(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{281:function(t,a,e){"use strict";e.r(a);var s=e(5),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),e("p",[t._v("最近开始学习 Qt，然后就挖坑了一个小玩具 Notepanda，顺便看看能不能替代诸如 notepad、gedit 之类的软件。顺便锻炼一下自己。")]),t._v(" "),e("h2",{attrs:{id:"feature"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#feature"}},[t._v("#")]),t._v(" Feature")]),t._v(" "),e("ol",[e("li",[t._v("基本的文本编辑操作（没想到吧这也是 feature 了哈哈哈哈哈哈）")]),t._v(" "),e("li",[t._v("行号显示")]),t._v(" "),e("li",[t._v("语法高亮")]),t._v(" "),e("li",[t._v("从命令行启动。（如 "),e("code",[t._v("notepanda")]),t._v(" 或者 "),e("code",[t._v("notepanda CMakeLists.txt")]),t._v("）")])]),t._v(" "),e("p",[t._v("除此之外还实现了自定义字体、字号、Qt 主题和 Status Bar 等一些小功能。")]),t._v(" "),e("p",[t._v("以后的目标是实现多标签页，并对 Markdown 做一点优化（比如预览），"),e("s",[t._v("如果有可能还会加进去一个 terminal")]),t._v("。计划在 "),e("a",{attrs:{href:"https://github.com/ChungZH/notepanda/projects/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Projects"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("目前还是很弱的一个东西，不过等查找、替换等 feature 实现之后，基本上可以替代 Windows 的 notepad 了。")]),t._v(" "),e("h2",{attrs:{id:"screenshots"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#screenshots"}},[t._v("#")]),t._v(" Screenshots")]),t._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://czh-img.oss-cn-shenzhen.aliyuncs.com/blog/code/notepanda/notepanda-sc1.png",loading:"lazy"}}),e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://czh-img.oss-cn-shenzhen.aliyuncs.com/blog/code/notepanda/notepanda-sc2.png",loading:"lazy"}}),e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://czh-img.oss-cn-shenzhen.aliyuncs.com/blog/code/notepanda/notepanda-sc3.png",loading:"lazy"}}),e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://czh-img.oss-cn-shenzhen.aliyuncs.com/blog/code/notepanda/notepanda-sc4.png",loading:"lazy"}})]),t._v(" "),e("h2",{attrs:{id:"实现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[t._v("#")]),t._v(" 实现")]),t._v(" "),e("p",[t._v("这部分大概讲讲思路吧。")]),t._v(" "),e("h3",{attrs:{id:"布局"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#布局"}},[t._v("#")]),t._v(" 布局")]),t._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"layout","data-src":"https://czh-img.oss-cn-shenzhen.aliyuncs.com/blog/code/notepanda/notepanda.png",loading:"lazy"}})]),t._v(" "),e("h3",{attrs:{id:"编辑控件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编辑控件"}},[t._v("#")]),t._v(" 编辑控件")]),t._v(" "),e("p",[t._v("使用了 Qt 提供的 QPlainTextEdit 类，适合纯文本编辑。刚开始还用的是 QTextEdit，想想自己真是傻了，又不是要编辑富文本哈哈哈。")]),t._v(" "),e("p",[t._v("不过 QPlainTextEdit 似乎有点点慢，我也没能力造轮子，于是就将就着用吧。")]),t._v(" "),e("h3",{attrs:{id:"语法高亮"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法高亮"}},[t._v("#")]),t._v(" 语法高亮")]),t._v(" "),e("p",[t._v("刚开始想实现的时候看见了 Qt 官方的 "),e("a",{attrs:{href:"https://links.jianshu.com/go?to=http%3A%2F%2Fdoc.qt.io%2Fqt-5%2Fqtwidgets-richtext-syntaxhighlighter-example.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Syntax Highlighter Example"),e("OutboundLink")],1),t._v("，很棒对吧。但是我可不想花精力去写一堆语言的规则呢！")]),t._v(" "),e("p",[t._v("然后就找到了 KDE Framework 里的 "),e("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FKDE%2Fsyntax-highlighting",target:"_blank",rel:"noopener noreferrer"}},[t._v("KSyntaxHighlighting"),e("OutboundLink")],1),t._v("。KDE Framework 是真的烦人，刚开始怎么也 build 不出来。等到了 GitHub Actions 上，整整用了四天时间才搞定，还是在某 Packman 的帮助下才完成的。。。当时看到绿绿的 Actions，我差点没开心得疯掉。。")]),t._v(" "),e("p",[t._v("这个 KSyntaxHighlighting，deepin-editor 和 Qt Creator 都在使用。好在他自己也提供了一些 example，看上去很简单。依赖也很小，只有 Extra CMake Modules，不过看上去和高亮的功能没啥关系，也许是 KF 必备依赖吧。它自带了两百多种语言的高亮规则，省了我很多事情，有 Dark / Light 主题，不服还可以自己写。很满意。")]),t._v(" "),e("h3",{attrs:{id:"ci"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ci"}},[t._v("#")]),t._v(" CI")]),t._v(" "),e("p",[t._v("我可不想每次更新都自己打一次包，没那个闲心，手上能用的系统也不够 😃 穷孩子怎么买得起 Mac。所以只能用 CI 啦。")]),t._v(" "),e("p",[t._v("现在 CI 主要帮我解决了：")]),t._v(" "),e("ol",[e("li",[t._v("Windows 安装程序")]),t._v(" "),e("li",[t._v("Windows 上的 7z & MacOS 上的 dmg & Linux 的 AppImage")]),t._v(" "),e("li",[t._v("Release 时自动上传以上所有文件")])]),t._v(" "),e("p",[t._v("CI 平台当然是选择了 GitHub Actions 啦！现在这个项目所有环节都在 GitHub 上能找到，AUR 除外 😦")]),t._v(" "),e("p",[t._v("Notepanda 的 CI 全都是抄 "),e("a",{attrs:{href:"https://github.com/qv2ray/qv2ray",target:"_blank",rel:"noopener noreferrer"}},[t._v("Qv2ray"),e("OutboundLink")],1),t._v(" 上的，可真是帮了我很多忙。")]),t._v(" "),e("h2",{attrs:{id:"最后"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[t._v("#")]),t._v(" 最后")]),t._v(" "),e("p",[t._v("感谢 Qv2ray 的 Super Packman: ymshenyu，感谢死鬼 gcc，感谢鸭鸭，感谢 Qv2ray User Group 里面的每一个人。如果没有他们，我的 Qt 旅程不会这么顺利。")]),t._v(" "),e("p",[t._v("顺便，Qv2ray 是一个很好用的 v2ray 跨平台客户端，欢迎尝试！")]),t._v(" "),e("p",[t._v("谢谢阅读 🙇‍♂️")]),t._v(" "),e("p",[t._v("最后，放上我画的一只小熊猫：")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("img",{attrs:{src:"https://czh-img.oss-cn-shenzhen.aliyuncs.com/blog/code/notepanda/logo.png",width:"300"}})]),t._v(" "),e("Donate"),t._v(" "),e("Vssue",{attrs:{title:"notepanda"}})],1)}),[],!1,null,null,null);a.default=n.exports}}]);