<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>美化你的 Powershell | ChungZH's Blog</title><meta property="og:site_name" content="ChungZH's Blog"><meta property="og:title" content="美化你的 Powershell | ChungZH's Blog"><meta itemprop=name content="美化你的 Powershell | ChungZH's Blog"><meta name=twitter:title content="美化你的 Powershell | ChungZH's Blog"><meta name=application-name content="美化你的 Powershell | ChungZH's Blog"><link rel="shortcut icon" href=/BlogFavicon16.png><meta name=twitter:card content="summary"><meta name=description content="Welcome to my blog!"><meta name=twitter:description content="Welcome to my blog!"><meta itemprop=description content="Welcome to my blog!"><meta property="og:description" content="Welcome to my blog!"><link rel=stylesheet href="https://blog.chungzh.cn/sass/main.min.76081452354a922312311970ac5598f4c4adf0a9024d15bc823f6b3c8474e0d7.css" integrity="sha256-dggUUjVKkiMSMRlwrFWY9MSt8KkCTRW8gj9rPIR04Nc="></head><body class="bg-white dark:bg-slate-900 text-slate-500 dark:text-slate-400"><header class="sticky top-0 z-40"><div class="w-full backdrop-blur bg-white/80 dark:bg-slate-900/75 lg:border-b lg:border-slate-900/10 dark:border-slate-50/[0.06]"><div class="py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0"><div class="px-20 relative flex flex-wrap justify-between"><div class="relative flex items-center"><a href=/><div class="flex gap-3 items-center text-xl font-bold text-slate-800 dark:text-slate-200"><img class="w-auto h-8" src=/BlogFavicon16.png title=logo>
<span class="hover:text-sky-500 dark:hover:text-sky-400">ChungZH's Blog</span></div></a></div><div class="relative flex items-center"><div class="flex gap-5 items-center leading-6 font-semibold text-slate-700 dark:text-slate-200"><a class="hover:text-sky-500 dark:hover:text-sky-400" href=/about/>关于</a>
<a class="hover:text-sky-500 dark:hover:text-sky-400" href=/friends/>友链</a>
<a class="hover:text-sky-500 dark:hover:text-sky-400" href=/archives/>存档</a>
<a class="hover:text-sky-500 dark:hover:text-sky-400" href=/tags/>标签</a></div></div></div></div></nav></header><div class="max-w-3xl mx-auto pb-28"><main class="max-w-[52rem] mx-auto py-10"><div class=container><article><header class=article-header><div class=thumb><div><div class=post-tags><a class=tag href=/tags/powershell/>#Powershell</a>
<a class=tag href=/tags/%E7%BB%88%E7%AB%AF/>#终端</a></div><h1 class=post-title>美化你的 Powershell</h1><div class=post-meta>By ChungZH<div class="font-bold text-sky-500 dark:text-sky-400">·</div><time>February 23, 2019</time><div class="font-bold text-sky-500 dark:text-sky-400">·</div>1 minutes</div></div></div></header></article><aside class=toc><nav id=TableOfContents><ul><li><a href=#前言>前言</a></li><li><a href=#开始>开始</a><ul><li><a href=#预备>预备</a></li><li><a href=#安装>安装</a></li><li><a href=#使用>使用</a></li></ul></li></ul></nav></aside><div class=article-post><p>Powershell 源代码仓库🔗 <a href=https://github.com/PowerShell/PowerShell>🎉🎉🎉Powershell/Powershell</a></p><h2 id=前言>前言</h2><p>众所周知，Powershell 是微软开发的新一代的 shell。在微软的大力扶植下，已经成长为了一个成熟的 shell。而大部分人为了解决终端丑的问题，都选择了使用 Linux shell 这条路。而 <code>WSL</code> 的推出更促进了这一点。</p><p>虽然使用 Linux shell 是一个不错的选择，但我们也可以在 Windows 的 shell 上下功夫。</p><p>对了，为什么不是美化 <code>CMD</code> 呢？答案很简单，微软都抛弃的东西，我们还是也抛弃了吧。</p><h2 id=开始>开始</h2><p>默认的 Powershell 是这样的：</p><p><img src=https://chungzhblog-photo.oss-cn-shenzhen.aliyuncs.com/%E5%8D%9A%E5%AE%A2/%E6%9E%81%E5%AE%A2%E6%94%BB%E7%95%A5/20/Powershell1.png alt="丑陋的 Powershell"></p><p>但我们要把它改成这样：</p><p><img src=https://chungzhblog-photo.oss-cn-shenzhen.aliyuncs.com/%E5%8D%9A%E5%AE%A2/%E6%9E%81%E5%AE%A2%E6%94%BB%E7%95%A5/20/Powershell2.png alt="帅气的 Powershell"></p><p>wow~简直能和使用 <code>oh-my-zsh</code> 的终端媲美了！！！</p><p>话不多说，咱们开始。</p><p>首先我们了解一个工具 🌟<a href=https://github.com/JanDeDobbeleer/oh-my-posh>oh-my-posh</a>。关于它的介绍可以看<a href=https://web.okjike.com/post-detail/5c1b25c05158130011810bfd/originalPost>我在即刻的推荐文</a>。总之，这个工具就是用来美化 Powershell 的。上图就是用了 oh-my-posh 后的效果。</p><h3 id=预备>预备</h3><p>为了获得更完美的体验，我们可以先安装几个 <code>Powerline</code> 字体。可以在 <a href=https://github.com/powerline/font>powerline/font</a> 中下载。下载过程不赘述。</p><p>下载好 Powerline 字体后，需要把终端的字体改成你刚刚下载的 Powerline 字体。</p><p>对了，由于默认的 Powershell 终端改字体比较麻烦，我们可以使用终端模拟器。大家可以使用 <a href=https://github.com/Eugeny/terminus>Eugeny/terminus</a> 这个工具。安装好后在 Settings 页面修改字体就行了。大家可以自己摸索。</p><h3 id=安装>安装</h3><p>好了，先来安装一下 <code>oh-my-posh</code>。往 Powershell 狂输以下命令：</p><div class=highlight><div style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#111>Install-Module</span> <span style=color:#111>posh-git</span> <span style=color:#111>-Scope</span> <span style=color:#111>CurrentUser</span>
</span></span><span style=display:flex><span><span style=color:#111>Install-Module</span> <span style=color:#111>oh-my</span><span style=color:#111>-posh</span> <span style=color:#111>-Scope</span> <span style=color:#111>CurrentUser</span>
</span></span></code></pre></td></tr></table></div></div><p>这样就安装好了 <code>posh-git</code> 和 <code>oh-my-posh</code> 这两个插件了。</p><h3 id=使用>使用</h3><div class=highlight><div style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#111>Import-Module</span> <span style=color:#111>oh-my</span><span style=color:#111>-posh</span>
</span></span><span style=display:flex><span><span style=color:#111>Import-Module</span> <span style=color:#111>posh-git</span>
</span></span></code></pre></td></tr></table></div></div><p>输入如上命令即可。</p><p><img src=https://chungzhblog-photo.oss-cn-shenzhen.aliyuncs.com/%E5%8D%9A%E5%AE%A2/%E6%9E%81%E5%AE%A2%E6%94%BB%E7%95%A5/20/Powershell3.png alt=成果></p><blockquote><p>upd：oh-my-posh 默认提供了许多主题，大家可以自行切换。方法是：<code>Set-Theme 主题名</code>。主题有<a href=https://github.com/JanDeDobbeleer/oh-my-posh#themes>这些</a>。大家可以自己玩玩。</p></blockquote><p>好了，取得了这样的成果，或许你以为已经成功了。但是——你只要重启一次终端，你就会发现问题了。</p><p><strong>为什么重启之后终端又复原了呢？？？</strong></p><p>这是因为打开的时候必须要输入 <code>Import-Module</code> 那两行命令才能启用插件。</p><p>那么我们可以设置一个脚本，让他每次打开 Powershell 就自动输入那两行命令。</p><p>好了，明确了目标，我们就开始行动吧。</p><p>首先输入：</p><div class=highlight><div style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#111>New-Item</span> <span style=color:#111>$profile</span>
</span></span></code></pre></td></tr></table></div></div><p><img src=https://chungzhblog-photo.oss-cn-shenzhen.aliyuncs.com/%E5%8D%9A%E5%AE%A2/%E6%9E%81%E5%AE%A2%E6%94%BB%E7%95%A5/20/Powershell4.png alt=结果></p><p>好了，打开这个文件——相信大家如果仔细看信息就能发现这个文件在哪里了。然后在这个文件中粘贴以下命令：</p><pre tabindex=0><code>Import-Module oh-my-posh
Import-Module posh-git
</code></pre><p>就可以每次打开 Powershell 都自动用上 oh-my-posh 了。</p><p>Enjoy it ☕~</p><donate><vssue title=beautify-your-powershell></div><div class=paginav><a class=text-right rel=next href=/articles/create-vuepress-blog-and-use-git-manger-it/ title="Next post (newer)"><span>Next</span><div class=paginav-title>创建 Vuepress 博客并使用 Git 管理</div></a></div></div><div class=container><script src=https://giscus.app/client.js data-repo=ChungZH/ChungZH.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkxNzcxMjMzNjI=" data-category=Comments data-category-id=DIC_kwDOCo6wIs4B_i5g data-mapping=title data-reactions-enabled=1 data-emit-metadata=0 data-theme=light crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector(".giscus iframe");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}const colorSchemeQueryList=window.matchMedia("(prefers-color-scheme: dark)"),setColorScheme=e=>{setGiscusTheme(e.matches?"dark_dimmed":"light")};setColorScheme(colorSchemeQueryList),colorSchemeQueryList.addEventListener("change",setColorScheme)</script></div></main><footer class="text-sm leading-6 mt-10"><div class="pt-10 pb-28 border-t border-slate-200 sm:flex justify-between text-slate-500 dark:border-slate-200/5"><div class="mb-6 sm:mb-0 sm:flex"><p>Made with ❤</p><p class="sm:ml-4 sm:pl-4 sm:border-l sm:border-slate-200 dark:sm:border-slate-200/5">By
<a class="hover:text-slate-900 dark:hover:text-slate-400" href=https://github.com/ChungZH>ChungZH</a></p><p class="sm:ml-4 sm:pl-4 sm:border-l sm:border-slate-200 dark:sm:border-slate-200/5">Theme hugo-klay</p></div></div></footer></div></body></html>